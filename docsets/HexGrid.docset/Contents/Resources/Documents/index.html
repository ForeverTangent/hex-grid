<!DOCTYPE html>
<html lang="en">
  <head>
    <title>HexGrid  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="HexGrid  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">HexGrid Docs</a> (62% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">HexGrid Reference</a>
        <img id="carat" src="img/carat.png" />
        HexGrid  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Cell.html">Cell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/HexGrid.html">HexGrid</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/Direction.html">Direction</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Direction/Flat.html">– Flat</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Direction/Pointy.html">– Pointy</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/GridShape.html">GridShape</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/OffsetLayout.html">OffsetLayout</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Orientation.html">Orientation</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Rotation.html">Rotation</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Attribute.html">Attribute</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AttributeDecodable.html">AttributeDecodable</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AttributeEncodable.html">AttributeEncodable</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AxialCoordinates.html">AxialCoordinates</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/CubeCoordinates.html">CubeCoordinates</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/CubeFractionalCoordinates.html">CubeFractionalCoordinates</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/HexSize.html">HexSize</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs.html#/s:7HexGrid21InvalidArgumentsErrorV">InvalidArgumentsError</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/OffsetCoordinates.html">OffsetCoordinates</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Point.html">Point</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='hexgrid' class='heading'>HexGrid</h1>

<p align="center">
    <a href="https://swift.org">
        <img src="http://img.shields.io/badge/swift-5.1-orange.svg" alt="Swift 5.1">
    </a>
    <a href="https://swift.org/package-manager">
        <img src="https://img.shields.io/badge/spm-&#x2713-brightgreen.svg" alt="Swift Package Manager Compatible">
    </a>
    <a href="LICENSE">
        <img src="https://img.shields.io/badge/license-MIT-brightgreen.svg" alt="MIT License">
    </a>
    <a href="https://fananek.github.io/HexGrid">
        <img src="http://img.shields.io/badge/read_the-docs-2196f3.svg" alt="Documentation">
    </a>
</p>
<pre class="highlight plaintext"><code>Development in progress!

API might change without further notice until first major release 1.x.x.
</code></pre>

<p>HexGrid library provides easy and intuitive way of working with hexagonal grids. Under the hood it handles all the math so you can focus on more important stuff.</p>

<ul>
<li>Support any gird shape, including irregular one or grid with holes.</li>
</ul>

<p>The library is meant for generic backend use. Therefore it doesn&rsquo;t not offer any UI or rendering stuff. However, it provides calculations needed for grid rendering.</p>
<h2 id='features' class='heading'>Features</h2>

<ul>
<li>[x] Create or generate a grid with hexagonal cells.<br></li>
<li>[x] Various coordinate systems (cube, axial, offset).<br></li>
<li>[x] Rotation, Manhattan distance, linear interpolation.<br></li>
<li>[x] Get Neighbors or diagonal neighbors.<br></li>
<li>[x] Get Line (get all hexes making a line from A to B).<br></li>
<li>[x] Get Ring (get all hexes making a ring from an origin coordinates in specified radius).<br></li>
<li>[x] Get Filled Ring (get all hexes making a filled ring from an origin coordinates in specified radius).<br></li>
<li>[x] Find reachable hexes within <code>n</code> steps (Breath First Search).<br></li>
<li>[x] Find the shortest path from A to B (optimized A* search algorithm).</li>
<li>[x] Hexagon rendering related stuff (e.g. polygon corners).<br></li>
<li>[x] Code inline documentation (quick help).</li>
<li>[x] Solid unit tests coverage.</li>
<li>[x] Generate full documentation.</li>
</ul>
<h2 id='what-39-s-coming-next' class='heading'>What&rsquo;s coming next?</h2>

<ul>
<li>[ ] Review and update readme.md.</li>
<li>[ ] More testing (including real projects).</li>
<li>[ ] Demo with visualization.</li>
<li>[ ] Possibly Implement FieldOfView algorithm (evaluating <code>RayCasting</code> vs <code>ShadowCasting</code> vs <code>own solution</code>).</li>
</ul>
<h2 id='getting-started' class='heading'>Getting Started</h2>
<h3 id='integrating-hexgrid-to-your-project' class='heading'>Integrating HexGrid to your project</h3>

<p>Add HexGrid as a dependency to your <code>Package.swift</code> file. If you need swift 4.1 support, use version 0.1.0, otherwise go with the lastest available release. </p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">PackageDescription</span>

<span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
<span class="nv">name</span><span class="p">:</span> <span class="s">"MyApp"</span><span class="p">,</span>
<span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
<span class="o">...</span>
<span class="c1">// Add HexGrid package here</span>
<span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/fananek/HexGrid.git"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"0.3.2"</span><span class="p">)</span>
<span class="p">],</span>
<span class="o">...</span>
</code></pre>

<p>Import HexGrid package to your code.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">HexGrid</span>
<span class="o">...</span>
<span class="c1">// your code goes here</span>
</code></pre>
<h2 id='using' class='heading'>Using</h2>
<h3 id='creating-a-grid' class='heading'>Creating a grid</h3>

<p>Grid can be initialized either with set of cells or HexGrid can generate some of standard shapes for you.</p>
<h4 id='standard-shape-grids' class='heading'>Standard shape grids</h4>

<p>Example:</p>
<pre class="highlight swift"><code><span class="o">...</span>
<span class="c1">// create grid of hexagonal shape</span>
<span class="k">var</span> <span class="nv">grid</span> <span class="o">=</span> <span class="kt">HexGrid</span><span class="p">(</span><span class="nv">shape</span><span class="p">:</span> <span class="kt">GridShape</span><span class="o">.</span><span class="nf">hexagon</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="c1">// or rectangular shape</span>
<span class="k">var</span> <span class="nv">grid</span> <span class="o">=</span> <span class="kt">HexGrid</span><span class="p">(</span><span class="nv">shape</span><span class="p">:</span> <span class="kt">GridShape</span><span class="o">.</span><span class="nf">rectangle</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="c1">// or triangular shape</span>
<span class="k">var</span> <span class="nv">grid</span> <span class="o">=</span> <span class="kt">HexGrid</span><span class="p">(</span><span class="nv">shape</span><span class="p">:</span> <span class="kt">GridShape</span><span class="o">.</span><span class="nf">triangle</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</code></pre>
<h4 id='custom-grids' class='heading'>Custom grids</h4>

<p>Example:</p>
<pre class="highlight swift"><code><span class="o">...</span>
<span class="c1">// create new HexGrid</span>

<span class="k">let</span> <span class="nv">gridCells</span><span class="p">:</span> <span class="kt">Set</span><span class="o">&lt;</span><span class="kt">Cell</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">try</span> <span class="p">[</span>
<span class="kt">Cell</span><span class="p">(</span><span class="kt">CubeCoordinates</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span>  <span class="mi">2</span><span class="p">,</span>  <span class="nv">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>  <span class="nv">z</span><span class="p">:</span>  <span class="mi">0</span><span class="p">)),</span>
<span class="kt">Cell</span><span class="p">(</span><span class="kt">CubeCoordinates</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span>  <span class="mi">0</span><span class="p">,</span>  <span class="nv">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="nv">z</span><span class="p">:</span>  <span class="mi">1</span><span class="p">)),</span>
<span class="kt">Cell</span><span class="p">(</span><span class="kt">CubeCoordinates</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="nv">y</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>  <span class="nv">z</span><span class="p">:</span>  <span class="mi">0</span><span class="p">)),</span>
<span class="kt">Cell</span><span class="p">(</span><span class="kt">CubeCoordinates</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span>  <span class="mi">0</span><span class="p">,</span>  <span class="nv">y</span><span class="p">:</span>  <span class="mi">2</span><span class="p">,</span>  <span class="nv">z</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
<span class="p">]</span>
<span class="k">var</span> <span class="nv">grid</span> <span class="o">=</span> <span class="kt">HexGrid</span><span class="p">(</span><span class="nv">cells</span><span class="p">:</span> <span class="n">gridCells</span><span class="p">)</span>
<span class="o">...</span>
</code></pre>
<h4 id='hexgrid-lt-gt-json' class='heading'>HexGrid &lt;-&gt; JSON</h4>

<p>HexGrid conforms to swift <code>Codable</code> protocol so it can be easily encoded to or decoded from JSON.</p>

<p>Example:</p>
<pre class="highlight plaintext"><code>// encode (grid to JSON)
let grid = HexGrid(shape: GridShape.hexagon(5) )
let encoder = JSONEncoder()
let data = try encoder.encode(grid)
</code></pre>
<pre class="highlight plaintext"><code>// decode (JSON to grid)
let decoder = JSONDecoder()
let grid = try decoder.decode(HexGrid.self, from: data)
</code></pre>
<h3 id='grid-operations-examples' class='heading'>Grid operations examples</h3>

<p>Almost all functions has two variants. One works with <code><a href="Classes/Cell.html">Cell</a></code> and the other one works with <code><a href="Structs/CubeCoordinates.html">CubeCoordinates</a></code>. Use those which better fulfill your needs.</p>
<h4 id='get-cell-at-coordinates' class='heading'>Get Cell at coordinates</h4>
<pre class="highlight plaintext"><code>let cell = grid.cellAt(try CubeCoordinates(x: 1, y: 0, z: -1))
</code></pre>
<h4 id='validate-coordinates' class='heading'>Validate coordinates</h4>

<p>Check whether some coordinates are valid (means it exist on a grid).</p>
<pre class="highlight plaintext"><code>// returns Bool
isValidCoordinates(try CubeCoordinates(x: 2, y: 4, z: -6))
</code></pre>
<h4 id='get-blocked-or-non-blocked-cells' class='heading'>Get blocked or non blocked Cells</h4>
<pre class="highlight plaintext"><code>let blockedCells = grid.blockedCells()
// or
let nonBlockedCells = grid.nonBlockedCells()
</code></pre>
<h4 id='get-single-neighbor' class='heading'>Get single neighbor</h4>
<pre class="highlight plaintext"><code>// get neighbor for a specific Cell
let neighbor = try grid.neighbor(
            for: someCell,
            at: Direction.Pointy.northEast.rawValue)

// get just neighbor coordinates
let neighborCoordinates = try grid.neighborCoordinates(
            for: someCoordinates,
            at: Direction.Pointy.northEast.rawValue)
</code></pre>
<h4 id='get-all-neighbors' class='heading'>Get all neighbors</h4>
<pre class="highlight plaintext"><code>// get all neighbors for a specific Cell
let neighbors = try grid.neighbors(for: someCell)

// get only coordinates of all neighbors
let neighborsCoords = try grid.neighbors(for: someCoordinates)
</code></pre>
<h4 id='get-line-from-a-to-b' class='heading'>Get line from A to B</h4>
<pre class="highlight plaintext"><code>// returns nil in case line doesn't exist
let line = try grid.line(from: originCell, to: targetCell)
</code></pre>
<h4 id='get-ring' class='heading'>Get ring</h4>
<pre class="highlight plaintext"><code>// returns all cells making a ring from origin cell in radius
let ring = try grid.ring(from: originCell, in: 2)
</code></pre>
<h4 id='get-filled-ring' class='heading'>Get filled ring</h4>
<pre class="highlight plaintext"><code>// returns all cells making a filled ring from origin cell in radius
let ring = try grid.filledRing(from: originCell, in: 2)
</code></pre>
<h4 id='find-reachable-cells' class='heading'>Find reachable cells</h4>
<pre class="highlight plaintext"><code>// find all reachable cells (max. 4 steps away from origin)
let reachableCells = try grid.findReachable(from: origin, in: 4)
</code></pre>
<h4 id='find-shortest-path' class='heading'>Find shortest path</h4>
<pre class="highlight plaintext"><code>// returns nil in case path doesn't exist at all
let path = try grid.findPath(from: originCell, to: targetCell)
</code></pre>
<h3 id='drawing-related-functions' class='heading'>Drawing related functions</h3>

<p>If you want to render a grid, you will need screen coordinates of polygon corners for a <code><a href="Classes/Cell.html">Cell</a></code>.</p>
<pre class="highlight plaintext"><code>let corners = grid.polygonCorners(for: someCell)
</code></pre>

<p>Converting cell coordinates to pixel coordinates and vice versa might be handy as well.</p>
<pre class="highlight plaintext"><code>// return Ponit struct with x: and y: values
let screenCoords = grid.pixelCoordinates(for: cell)

// return cell for specified screen coordinates (or nil if such cell doesn't exists)
let cell = try grid.cellAt(point)
</code></pre>
<h2 id='implementation-fundamentals' class='heading'>Implementation fundamentals</h2>

<p>For detailed information see complete <a href="https://fananek.github.io/HexGrid">documentation</a></p>
<h3 id='data-structures-you-should-know' class='heading'>Data structures you should know</h3>
<h4 id='hexgrid' class='heading'>HexGrid</h4>

<p>Represents the grid itself as well as it&rsquo;s an entry point of the HexGrid library.</p>

<p><code><a href="Classes/HexGrid.html">HexGrid</a></code> is defined by set of <code>Cells</code> and few other properties. All together makes a grid setup. In other words it put grid cells into a meaningful context. Therefore most of available operations are being called directly on a grid instance because it make sense only with such context (grid setup).</p>

<p>Properties:</p>

<ul>
<li>cells: <code>Set&lt;Cell&gt;</code> - grid cells</li>
<li>orientation: <code><a href="Enums/Orientation.html">Orientation</a></code> - see <a href="#Orientation">Orientation enumeration</a></li>
<li>offsetLayout: <code><a href="Enums/OffsetLayout.html">OffsetLayout</a></code> - see <a href="#OffsetLayout">OffsetLayout enumeration</a></li>
<li>hexSize: <code><a href="Structs/HexSize.html">HexSize</a></code> - width and height of a hexagon</li>
<li>origin: <code><a href="Structs/Point.html">Point</a></code> - &lsquo;display coordinates&rsquo; (x, y) of a grid origin</li>
<li>pixelWidth: <code>Double</code> - pixel width of a grid</li>
<li>pixelHeight: <code>Double</code> - pixel width of a grid</li>
<li>attributes: <code>[String: Attribute]</code> - dictionary of custom attributes (most primitive types are supported as well as nesting)</li>
</ul>
<h4 id='cell' class='heading'>Cell</h4>

<p>Cell is a building block of a grid.</p>

<p>Properties:</p>

<ul>
<li>coordinates: <code><a href="Structs/CubeCoordinates.html">CubeCoordinates</a></code> - cell placement on a grid coordinate system</li>
<li>attributes: <code>[String: Attribute]</code> - dictionary of custom attributes (most primitive types are supported as well as nesting)</li>
<li>isBlocked: <code>Bool</code> - used by algorithms (reachableCells, pathfinding etc.)</li>
<li>cost: <code>Float</code> - used by pathfinding algorithm. For the sake of simplicity lets put graph theory aside. You can imagine cost as an amount of energy needed to pass a cell. Pathfinding algorithm then search for path requiring the less effort.</li>
</ul>
<h4 id='cubecoordinates' class='heading'>CubeCoordinates</h4>

<p>The most common coordinates used within HexGrid library is cube coordinate system. This type of coordinates has three axis x, y and z. The only condition is that sum of its all values has to be equal zero.</p>
<pre class="highlight plaintext"><code>// valid cube coordinates
CubeCoordinates(x: 1, y: 0, z: -1) -&gt; sum = 0

// invalid cube coordinates
CubeCoordinates(x: 1, y: 1, z: -1) -&gt; sum = 1 -&gt; throws error
</code></pre>

<p>For more details check <a href="https://www.redblobgames.com/grids/hexagons/#coordinates-cube">Amit Patel&rsquo;s explanation</a>.</p>
<h4 id='enumerations' class='heading'>Enumerations</h4>
<h5 id='orientation' class='heading'>Orientation</h5>

<p>Options:</p>

<ul>
<li><code>pointyOnTop</code> - ⬢</li>
<li><code>flatOnTop</code> - ⬣</li>
</ul>
<h5 id='offsetlayout' class='heading'>OffsetLayout</h5>

<p>OffsetLayout is used primarily for rectangular shaped grids. It has two options but their meaning can differ based on grid orientation.</p>

<p>Options:</p>

<ul>
<li><code>odd</code></li>
<li><code>even</code></li>
</ul>

<p>There are four offset types depending on orientation of hexagons. The “row” types are used with with pointy top hexagons and the “column” types are used with flat top.</p>

<ul>
<li>Pointy on top orientation

<ul>
<li>odd-row (slide alternate rows right)</li>
<li>even-row (slide alternate rows left)</li>
</ul></li>
<li>Flat on top orientation

<ul>
<li>odd-column (slide alternate columns up)</li>
<li>even-column (slide alternate columns down)</li>
</ul></li>
</ul>
<h5 id='gridshape' class='heading'>GridShape</h5>

<p>Options:</p>

<ul>
<li><code>rectangle(Int, Int)</code> - rectangle width and height</li>
<li><code>hexagon(Int)</code> - radius of hexagon</li>
<li><code>triangle(Int)</code> - size of triangle side</li>
</ul>
<h5 id='rotation' class='heading'>Rotation</h5>

<p>Options:</p>

<ul>
<li><code>left</code></li>
<li><code>right</code></li>
</ul>
<h5 id='direction' class='heading'>Direction</h5>

<p>Direction enumeration is consistent and human recognizable direction naming. Using direction enumeration is not only much more convenient but it also help to avoid errors. It&rsquo;s better to say just <em>&ldquo;Hey, I&rsquo;m on cell X and want to go north.&rdquo;</em> than think <em>&ldquo;What the hack was that index of north direction?&rdquo;</em>, isn&rsquo;t it?</p>

<p>Options:</p>

<ul>
<li><code><a href="Enums/Direction/Flat.html">Direction.Flat</a></code>

<ul>
<li><code>north</code></li>
<li><code>northEast</code></li>
<li><code>southEast</code></li>
<li><code>south</code></li>
<li><code>southWest</code></li>
<li><code>northWest</code></li>
</ul></li>
<li><code><a href="Enums/Direction/Pointy.html">Direction.Pointy</a></code>

<ul>
<li><code>northEast</code></li>
<li><code>east</code></li>
<li><code>southEast</code></li>
<li><code>southWest</code></li>
<li><code>west</code></li>
<li><code>northWest</code></li>
</ul></li>
</ul>

<p>There is actually separate set of directions for each grid orientation. It&rsquo;s because of two reasons. First, some directions are valid only for one or another orientation. Second, direction raw values are shifted based on orientation.</p>
<h2 id='authors' class='heading'>Authors</h2>

<ul>
<li><a href="https://github.com/fananek">@fananek</a></li>
<li><a href="https://github.com/mlhovka">@mlhovka</a></li>
</ul>

<p>See also the list of <a href="https://github.com/fananek/HexGrid/contributors">contributors</a> who participated in this project.</p>
<h2 id='license' class='heading'>License</h2>

<p>All code contained in the HexGrid package is under the <a href="https://github.com/fananek/HexGrid/blob/master/LICENSE.md">MIT</a> license agreement.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external">fananek</a>. All rights reserved. (Last updated: 2020-03-17)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
